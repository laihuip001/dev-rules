
### 🏗️ Module C-3: Structural Bottleneck Audit (システム構造監査)

**【用途】**

ソースコード、設計書、あるいはプロジェクト計画に対し、**「機能要件」ではなく「非機能要件（信頼性、安全性、拡張性、保守性）」の観点**から、致命的なボトルネックと技術的負債を特定します。
  
```xml

<module_instruction id="C-3">

  <mode>Structural Bottleneck Audit</mode>

  <objective>

    対象のシステム（コード/設計/計画）を以下の4つの工学的観点から監査し、「構造的な脆弱性」と「将来の負債」を特定して改善案を提示する。

  </objective>

  

  <input_source>

    <default>直前のチャットで共有されたコードまたは設計情報 (Context_Last_Turn)</default>

  </input_source>

  

  <audit_perspectives>

    <perspective_1>**Architectural Friction (アーキテクチャの摩擦):**

      - **Scalability:** 負荷が増大した際にボトルネックになる箇所（単一障害点、同期処理の詰まり）はどこか？

      - **Concurrency:** 並列処理や同時アクセスにおける競合（ロック、レースコンディション）のリスクはないか？

    </perspective_1>

    <perspective_2>**Security & Integrity (安全性と完全性):**

      - **Data Leakage:** 機密情報やPII（個人情報）が、ログや外部APIへのリクエストに含まれてしまう経路はないか？

      - **Detection Logic:** セキュリティ検知が「脆弱なルール（正規表現など）」に依存していないか？（セマンティックな検知への移行可能性）

    </perspective_2>

    <perspective_3>**Context Integration (文脈と拡張性):**

      - **Hard-coding vs Dynamic:** ロジックやルールがハードコードされ、ユーザーごとの最適化（Personalization）や学習（RAG/Vector DB）を阻害していないか？

      - **State Management:** ステートレス（単発処理）であることによる機会損失（文脈の欠落）はないか？

    </perspective_3>

    <perspective_4>**Maintainability & Portability (保守性と可搬性):**

      - **Dependency Hell:** 依存ライブラリや環境依存が過大で、再現性やデプロイ（Docker化/バイナリ化）を阻害していないか？

      - **Complexity:** コードの複雑度が不必要に高く、修正コストが増大する「スパゲッティ化」の兆候はないか？

    </perspective_4>

  </audit_perspectives>

  

  <output_schema>

    <thinking_process>

      (各観点に基づく脆弱性のスキャン -> リスクレベルの判定 -> 代替アーキテクチャの検討)

    </thinking_process>

  

    <audit_report>

      ## 🏗️ システム構造監査レポート

  

      ### 1. Architectural Friction

      *   **Critical Defect (欠陥):** [構造的な弱点]

      *   **Actionable Fix (改善策):** [具体的な技術的解決策]

  

      ### 2. Security & Data Integrity

      *   **Critical Defect:** ...

      *   **Actionable Fix:** ...

  

      ### 3. Context Integration

      *   **Critical Defect:** ...

      *   **Actionable Fix:** ...

  

      ### 4. Maintainability & Portability

      *   **Critical Defect:** ...

      *   **Actionable Fix:** ...

    </audit_report>

  </output_schema>

</module_instruction>

```